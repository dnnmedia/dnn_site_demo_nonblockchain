
import assert from 'assert';
import { Style } from '../lib';
import { Element } from '../lib';
import Sheet from 'vcss';
import { Media } from 'vcss';
import { Animation } from 'vcss';

describe('Style', () => {

  it('should be an element', () => {
    let el = new Style;
    assert(el instanceof Element);
  });

  it('should have the right tag name', () => {
    let el = new Style;
    assert('style' == el.name);
  });

  it('should expose sheet API', () => {
    let el = new Style;
    assert(el.sheet instanceof Sheet);
    assert(!el.sheet.children.length);
    el.add('div', { color: 'red' });
    assert(1 == el.sheet.children.length);
  });

  it('should expose animations', () => {
    let el = new Style;
    assert(el.anim('bounce', {
      from: { opacity: 0 },
      to: { opacity: 1 }
    }) instanceof Animation);
  });

  it('should expose media', () => {
    let el = new Style;
    let media = el.media('screen');
    assert(media instanceof Media);
  });

  it('should serialize', () => {
    let el = new Style;
    el.add('img', {
      border: '3px solid red'
    });
    assert('<style>img{border:3px solid red}</style>');
  });

});
