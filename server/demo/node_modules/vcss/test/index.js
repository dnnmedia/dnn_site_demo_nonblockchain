
import Sheet from '../lib';
import assert from 'assert';

describe('Sheet', () => {

  it('should support basic selectors', () => {
    let el = new Sheet;
    el.add('img', {
      border: '1px solid red'
    });
    el.add('td', {
      'background': 'red',
      'border-collapse': 'collapse'
    });
    assert('img{border:1px solid red}'
      + 'td{background:red;border-collapse:collapse}' == el.serialize());
  });

  it('should support animation', () => {
    let el = new Sheet;
    let name = el.anim('fade', {
      from: { opacity: 0 },
      to: { opacity: 1 }
    });
    assert(`@keyframes fade{from{opacity:0}to{opacity:1}}`
    + `@-webkit-keyframes fade{from{opacity:0}to{opacity:1}}`
    + `@-moz-keyframes fade{from{opacity:0}to{opacity:1}}`
    + `@-o-keyframes fade{from{opacity:0}to{opacity:1}}` == el.serialize());
  });

  it('should support animation serialization without prefixes', () => {
    let el = new Sheet;
    let name = el.anim('fade', {
      from: { opacity: 0 },
      to: { opacity: 1 }
    }, false);
    assert(`@keyframes fade{from{opacity:0}to{opacity:1}}` == el.serialize());
  });

});
